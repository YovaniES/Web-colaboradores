<div class="row" style="margin-top: 20px" *ngIf="cargando">
  <div class="col-12">
    <div class="alert alert-info text-center">
      <h4 class="alert-heading">Cargando</h4>
      <mat-spinner diameter="30" style="margin: 5px auto"></mat-spinner>
      <p class="mb-0">Por favor espere</p>
    </div>
  </div>
</div>

<div class="global-content">
  <div class="cli-card">
    <div class="cli-card-body">
      <h4 class="cli-title-center c-male">Pase de acceso a la encuesta</h4>
      <h5 class="cli-subtitle">
        Aquí puede generar un pase de acceso a la encuesta
      </h5>
      <div class="qr-input">
        <button
          class="cli-btn btn-l btn-blue my-4"
          type="submit"
          (click)="irEncuesta()"
        >
          <mat-icon class="icon-cent">checklist_rtl</mat-icon> Ir encuesta
        </button>
      </div>
    </div>
  </div>
</div>

<div class="global-content">
  <div class="cli-card">
    <div class="cli-card-body">
      <h4 class="cli-title-center c-male">Pase de acceso a la encuesta</h4>
      <h5 class="cli-subtitle">Ficha de sistematología de COVID-19</h5>

      <h4 style="color: #ff4081" class="cli-subtitle">
        Por favor marque el siguiente cuestionario
      </h4>

      <form>
        <table class="cli-table" *ngIf="!cargando">
          <thead>
            <tr>
              <th class="w30">N°</th>
              <th class="w100">Preguntas</th>
              <th class="w50">Seleccione</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let encuesta of encuestaList; let i = index">
              <th>{{ i + 1 }}</th>
              <td>{{ encuesta.label }}</td>
              <td>
                <div class="cli-form-buttons">
                  <button
                    class="cli-btn btn-enc btn-magenta"
                    (click)="changeAnswerValue(i, true)"
                    [ngClass]="{'enabled-button': encuesta.responseValue == 'S'}"
                  > Si
                  </button>
                  <button
                    class="cli-btn btn-enc btn-magenta"
                    (click)="changeAnswerValue(i, false)"
                    [ngClass]="{'enabled-button': encuesta.responseValue == 'N'}"
                  > No
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </form>

      <div style="display: flex; justify-content: center; margin-top: 40px">
        <button
          class="cli-btn btn-emerald"
          type="submit"
          (click)="guardar()"
          [disabled]="!validForm"
        >
          <mat-icon class="icon-18">save</mat-icon> Confirmar pase
        </button>
      </div>
    </div>
  </div>
</div>

<div class="global-content">
  <div class="cli-card">
    <div class="cli-card-body">
      <h4 class="cli-title-center c-male">Pase de acceso a la encuesta</h4>
      <h5 class="cli-subtitle">acceso limitado a la reunión</h5>

      <qrcode
        style="display: flex; justify-content: center"
        [qrdata]="'Your data string'"
        [width]="256"
        [errorCorrectionLevel]="'M'"
      ></qrcode>
    </div>
  </div>
</div>
